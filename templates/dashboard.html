
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Dashboard SVsolut</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans">

<div class="flex h-screen">
    <!-- Sidebar -->
    <div class="w-64 bg-purple-700 text-white p-6">
        <h1 class="text-2xl font-bold mb-8">Painel</h1>
        <ul class="space-y-4">
            <li><a href="/" class="block hover:text-purple-300">Dashboard</a></li>
            <li><a href="/pedidos" class="block hover:text-purple-300">Pedidos</a></li>
            <li><a href="/logout" class="block hover:text-purple-300">Sair</a></li>
        </ul>
    </div>

    <!-- Conteúdo principal -->
    <div class="flex-1 p-10 overflow-y-auto">
        <div class="flex flex-col lg:flex-row justify-between mb-6">
            <div class="space-y-2">
                <h2 class="text-3xl font-semibold text-gray-800">Dashboard</h2>
                <p class="text-sm text-gray-500">Período Atual: Últimos 30 dias</p>
            </div>
        </div>

        <!-- Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-sm text-gray-500">Vendas (quantidade)</h3>
                <p class="text-2xl font-bold text-gray-800">{{ qtd_atual }}</p>
                <p class="text-xs text-green-600 mt-1">↑ {{ v_qtd }}% em relação ao mês anterior</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-sm text-gray-500">Vendas (valor)</h3>
                <p class="text-2xl font-bold text-gray-800">R$ {{ val_atual }}</p>
                <p class="text-xs text-red-600 mt-1">↓ {{ v_val }}% em relação ao mês anterior</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-sm text-gray-500">Usuários únicos</h3>
                <p class="text-2xl font-bold text-gray-800">{{ total_usuarios }}</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-sm text-gray-500">Assinantes</h3>
                <p class="text-2xl font-bold text-gray-800">{{ total_assinantes }}</p>
            </div>
        </div>

        <!-- Gráfico de vendas -->
        <div class="bg-white mt-10 p-6 rounded-xl shadow-md">
            <h3 class="text-lg font-semibold text-gray-700 mb-4">Histórico de Vendas</h3>
            <canvas id="graficoVendas"></canvas>
        </div>
    </div>
</div>

<script>
    const ctx = document.getElementById('graficoVendas').getContext('2d');
    const grafico = new Chart(ctx, {
        type: 'line',
        data: {
            labels: {{ labels | tojson }},
            datasets: [{
                label: 'Vendas por dia',
                data: {{ valores | tojson }},
                borderColor: '#8b5cf6',
                backgroundColor: 'rgba(139, 92, 246, 0.2)',
                fill: true,
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: { beginAtZero: true }
            }
        }
    });
</script>

</body>
</html>
